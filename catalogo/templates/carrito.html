{% extends "base.html" %}

{% block contenido %}
{% if messages %}
  <div class="mb-4 max-w-lg mx-auto">
    {% for message in messages %}
      <div class="text-black font-bold text-center px-4 py-3 rounded shadow">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}
<div class="container mx-auto px-4 py-10">
  <h1 class="text-4xl font-bold text-indigo-700 mb-8 text-center">🛒 Tu Carrito</h1>

  


  {% if carrito %}
    <div class="overflow-x-auto">
      <table class="w-full bg-white border border-gray-200 rounded-lg shadow-md">
        <thead class="bg-indigo-100 text-indigo-800 text-md uppercase tracking-wide">
          <tr>
            <th class="p-3">Producto</th>
            <th class="p-3">Cantidad</th>
            <th class="p-3">Subtotal</th>
          </tr>
        </thead>
        <tbody>
          {% for item in carrito %}
            <tr class="border-t border-gray-200 hover:bg-gray-50 transition">
              <td class="p-3 text-black">{{ item.producto.nombre }}</td>
              <td class="p-3 text-black">{{ item.cantidad }}</td>
              <td class="p-3 text-black font-medium">${{ item.subtotal }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="flex justify-end mt-6">
      <div class="text-2xl text-indigo-700 font-semibold">
        Total: ${{ total }}
      </div>
    </div>

    <div class="mt-8 flex">
      <a
        href="{% url 'pagar_carrito' %}"
        class="inline-block m-auto font-bold text-black"
      >
        💳 Pagar ahora
      </a>
    </div>
  {% else %}
    <div class="text-center text-gray-500 text-lg mt-10">
      Tu carrito está vacío 🛍️
    </div>
  {% endif %}
</div>
{% endblock %}
